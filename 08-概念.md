## 数据库的三级模式

1. 外模式: 是数据库用户(包括程序员和最终用户)看见和使用的局部数据的逻辑结构和特征描述,是数据库用户的数据视图,是与某一应用有关的数据逻辑表示
2. 概念模式: 由称模式, 是介于内模式与外模式之间的中间层次,是数据库中所有数据的逻辑结构和特征描述,是所有用户的公共数据视图
3. 内模式: 也称存储模式,是数据物理结构的描述,是数据在数据库内部的表示方式

## 数据库的二级映像

1. 外模式/模式映像
   * 定义了该外模式与概念模式之间的对应关系
2. 模式/内模式映像
   * 定义了数据全局逻辑结构与存储结构之间的对应关系

## 	关系数据库相关概念

1. 元组: 关系总内一行数据称为一个元组或一条记录
2. 属性: 关系中每一列称为一个属性,列的名字称为属性名
3. 域: 属性的取值范围称为该属性的域
4. 码: 也成为键, 指的是取值具有唯一性的属性
5. 主码: 一个关系中所有的码构成候选码,为了管理方便,选定一个候选码作为元组标识,这个候选码称为主码,主码的取值具有唯一性且不能为空
6. 外码: 如果关系模式R中的某属性(集)k不是R的主键,而是另一个关系S的主键,则该属性(集)是关系模式R的外键

## 专门的关系运算

1. 选择运算 σ<选择条件>(R)
   * σ 选择操作
   * <选择条件> 作用于关系R的一个布尔表达式
2. 投影运算 π<属性列表>(R)
   * 投影运算的结果包含<属性列表>中列出的属性,并且顺序与属性列表一致



## 范式

#### 第一范式 1NF

一个关系模式的所有属性都是不可分割的基本数据项

#### 第二范式 2NF

如果一个关系模式满足第一范式,并且每个非主属性完全函数依赖于码,则其满足第二范式

#### 第三范式 3NF

如果关系模式满足第二范式,并且不存在非主属性传递函数依赖于码,则称其为第三范式

简而言之,第三范式就是属性不依赖于其他非主属性

#### BC范式

如果关系模式满足第三范式,且不存在主属性对非所在码(不包含本主属性的码)的传递依赖和部份依赖,则称其满足BC范式

## 并发控制措施

#### 封锁

略

#### 封锁协议

1. 一级封锁协议
   * 事务T在修改数据A之前,必须先对其加X锁,直到事务结束才释放
2. 二级封锁协议
   * 在一级封锁的基础上,加上了事务T在读取R之前必须先对其加S锁,读取完后即可释放S锁
3. 三级封锁协议
   * 在一级封锁的基础上,加上了事务T在读取R之前必须先对其加S锁,并且直到事务结束才释放S锁

## 备份策略

#### 完整备份

#### 完整备份加日志备份

#### 完整备份加差异备份再加日志备份

